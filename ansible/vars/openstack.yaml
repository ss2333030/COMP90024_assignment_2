# Common vars
availability_zone: melbourne-qh2-uom
instance_image: bbaf16f8-2484-48d7-b455-42209cc4b8d2
instance_key_name: cloud_key
instance_flavor: uom.mse.2c9g
instance_network: qh2-uom-internal
security_group: db_server

# Volume
volumes:
  - name: node-1-data
    size: 100
  - name: node-2-data
    size: 100
  - name: node-3-data
    size: 100

# Security group
db_server_security_group:
  name: db_server
  description: security group for database servers
  rules:
    - protocol: tcp
      port_range_min: 5984
      port_range_max: 5984
      remote_ip_prefix: 0.0.0.0/0
    - protocol: tcp
      port_range_min: 4369
      port_range_max: 4369
      remote_ip_prefix: 0.0.0.0/0
    - protocol: tcp
      port_range_min: 9100
      port_range_max: 9100
      remote_ip_prefix: 0.0.0.0/0
    - protocol: tcp
      port_range_min: 22
      port_range_max: 22
      remote_ip_prefix: 0.0.0.0/0

# Defines a list of instances
instances:
  - name: node-1
    volumes: ["node-1-data"]
  - name: node-2
    volumes: ["node-2-data"]
  - name: node-3
    volumes: ["node-3-data"]
